{"ast":null,"code":"var _jsxFileName = \"C:\\\\foodapp\\\\frontend\\\\src\\\\components\\\\Food.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./Food.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Food = () => {\n  _s();\n  const [image, setImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setImage(file);\n      setImagePreview(URL.createObjectURL(file));\n    } else {\n      alert(\"Please choose an image.\");\n    }\n  };\n  const handleCameraCapture = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      const video = document.createElement(\"video\");\n      video.srcObject = stream;\n      video.play();\n      const canvas = document.createElement(\"canvas\");\n      const context = canvas.getContext(\"2d\");\n      video.addEventListener(\"canplay\", () => {\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        canvas.toBlob(blob => {\n          setImage(blob);\n          setImagePreview(canvas.toDataURL(\"image/jpeg\"));\n          stream.getTracks().forEach(track => track.stop());\n        }, \"image/jpeg\");\n      });\n    } catch {\n      alert(\"Unable to access camera.\");\n    }\n  };\n  const analyzeFood = async () => {\n    if (!image) {\n      alert(\"Please upload or capture an image.\");\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", image);\n      formData.append(\"upload_preset\", \"food123\");\n      const uploadRes = await fetch(`https://api.cloudinary.com/v1_1/dmf3jzijx/image/upload`, {\n        method: \"POST\",\n        body: formData\n      });\n      const uploadData = await uploadRes.json();\n      const payload = {\n        image: uploadData.secure_url,\n        location: \"Unknown\"\n      };\n      const res = await fetch(\"https://foodapi-sa0l.onrender.com/direct_img\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      setResult(data.meta_data);\n    } catch {\n      setError(\"Failed to analyze food.\");\n    }\n  };\n  const resetAnalysis = () => {\n    setImage(null);\n    setImagePreview(null);\n    setResult(null);\n    setError(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"food-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"food-title\",\n      children: \"AI Food Analyzer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Upload or capture food photos to check for spoilage.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleImageUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCameraCapture,\n        children: \"\\uD83D\\uDCF7 Capture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: analyzeFood,\n      children: \"\\uD83D\\uDD0D Analyze\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imagePreview,\n        alt: \"Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\uD83D\\uDCCB Category: \", result.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\uD83C\\uDF4C Type: \", result.type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\uD83C\\uDF21\\uFE0F Temperature: \", result.temperature, \"\\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\uD83D\\uDCA7 Humidity: \", result.humidity, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\uD83D\\uDCC5 Expiry: \", result.exp_date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: resetAnalysis,\n      children: \"\\uD83D\\uDD04 Reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(Food, \"o2oLZ9JYXJ6wzbTbZ9u7NvEnnqk=\");\n_c = Food;\nexport default Food;\nvar _c;\n$RefreshReg$(_c, \"Food\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Food","_s","image","setImage","imagePreview","setImagePreview","result","setResult","error","setError","handleImageUpload","e","file","target","files","URL","createObjectURL","alert","handleCameraCapture","stream","navigator","mediaDevices","getUserMedia","video","document","createElement","srcObject","play","canvas","context","getContext","addEventListener","width","videoWidth","height","videoHeight","drawImage","toBlob","blob","toDataURL","getTracks","forEach","track","stop","analyzeFood","formData","FormData","append","uploadRes","fetch","method","body","uploadData","json","payload","secure_url","location","res","headers","JSON","stringify","data","meta_data","resetAnalysis","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","src","alt","category","temperature","humidity","exp_date","_c","$RefreshReg$"],"sources":["C:/foodapp/frontend/src/components/Food.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./Food.css\";\r\n\r\nconst Food = () => {\r\n  const [image, setImage] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImage(file);\r\n      setImagePreview(URL.createObjectURL(file));\r\n    } else {\r\n      alert(\"Please choose an image.\");\r\n    }\r\n  };\r\n\r\n  const handleCameraCapture = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n      const video = document.createElement(\"video\");\r\n      video.srcObject = stream;\r\n      video.play();\r\n\r\n      const canvas = document.createElement(\"canvas\");\r\n      const context = canvas.getContext(\"2d\");\r\n\r\n      video.addEventListener(\"canplay\", () => {\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        canvas.toBlob((blob) => {\r\n          setImage(blob);\r\n          setImagePreview(canvas.toDataURL(\"image/jpeg\"));\r\n          stream.getTracks().forEach((track) => track.stop());\r\n        }, \"image/jpeg\");\r\n      });\r\n    } catch {\r\n      alert(\"Unable to access camera.\");\r\n    }\r\n  };\r\n\r\n  const analyzeFood = async () => {\r\n    if (!image) {\r\n      alert(\"Please upload or capture an image.\");\r\n      return;\r\n    }\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", image);\r\n      formData.append(\"upload_preset\", \"food123\");\r\n\r\n      const uploadRes = await fetch(\r\n        `https://api.cloudinary.com/v1_1/dmf3jzijx/image/upload`,\r\n        { method: \"POST\", body: formData }\r\n      );\r\n      const uploadData = await uploadRes.json();\r\n\r\n      const payload = {\r\n        image: uploadData.secure_url,\r\n        location: \"Unknown\",\r\n      };\r\n\r\n      const res = await fetch(\r\n        \"https://foodapi-sa0l.onrender.com/direct_img\",\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n      const data = await res.json();\r\n      setResult(data.meta_data);\r\n    } catch {\r\n      setError(\"Failed to analyze food.\");\r\n    }\r\n  };\r\n\r\n  const resetAnalysis = () => {\r\n    setImage(null);\r\n    setImagePreview(null);\r\n    setResult(null);\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"food-container\">\r\n      <h1 className=\"food-title\">AI Food Analyzer</h1>\r\n      <p>Upload or capture food photos to check for spoilage.</p>\r\n      <div className=\"upload-container\">\r\n        <input type=\"file\" onChange={handleImageUpload} />\r\n        <button onClick={handleCameraCapture}>📷 Capture</button>\r\n      </div>\r\n      <button onClick={analyzeFood}>🔍 Analyze</button>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {result && (\r\n        <div className=\"result\">\r\n          <img src={imagePreview} alt=\"Preview\" />\r\n          <ul>\r\n            <li>📋 Category: {result.category}</li>\r\n            <li>🍌 Type: {result.type}</li>\r\n            <li>🌡️ Temperature: {result.temperature}°C</li>\r\n            <li>💧 Humidity: {result.humidity}%</li>\r\n            <li>📅 Expiry: {result.exp_date}</li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n      <button onClick={resetAnalysis}>🔄 Reset</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Food;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}